<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <title>ç‰©ä»¶ä¸€è¦§| ForestEstate</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      body {
        font-family: system-ui, sans-serif;
        margin: 24px;
      }
      h1 {
        font-size: 40px;
      }
      .card {
        border: 1px splid #ddd;
        border-radius: 8px;
        padding: 12px;
        margin: 12px 0;
      }
      .muted {
        color: #666;
        font-size: 12px;
      }
    </style>
  </head>
  <body>


      
    <h1>ç‰©ä»¶ä¸€è¦§ã‚µã‚¤ãƒˆ</h1>

    <h2>æ¤œç´¢æ©Ÿèƒ½</h2>
    <form method="get">
      <label><input type="checkbox" name="nature" value="1" {% if request.GET.nature %}checked{% endif %}>è‡ªç„¶è±Šã‹</label><br>
      <label><input type="checkbox" name="station" value="1" {% if request.GET.station %}checked{% endif %}>é§…è¿‘ã</label><br>
      <label><input type="checkbox" name="remote" value="1" {% if request.GET.remote %}checked{% endif %}>ãƒªãƒ¢ãƒ¼ãƒˆ</label><br>
      <button type="submit">æ¤œç´¢</button>
    </form>

    <a href="{% url 'property_create' %}">ç‰©ä»¶ç™»éŒ²</a>

    {% if search_conditions %}
      <p>ğŸ” æ¤œç´¢æ¡ä»¶: {{ search_conditions|join:" / " }} </p>
    {% endif %}

    {% if properties %}
      {% for p in properties %}
        <div class="card"></div>
        <div>
          <strong>{{ p.title }}</strong>
        </div>
        <div>ä¾¡æ ¼:{{ p.price }}å††</div>
        <a href="{% url 'property_detail' p.id %}">è©³ç´°</a>
        <a href = "{% url 'property_update' p.id %}">ç·¨é›†</a>
        <div class="muted">ç™»éŒ²æ—¥:{{ p.created_at|date:'Y-m-d H:i' }}</div>
      {% endfor %}
    {% else %}
      <p>ç‰©ä»¶ãŒã¾ã ã‚ã‚Šã¾ã›ã‚“ã€‚ç®¡ç†ç”»é¢ã‹ã‚‰è¿½åŠ ã—ã¦ãã ã•ã„ã€‚</p>
    {% endif %}

    {% if search_conditions %}
    <form action="{% url 'property_list' %}" method="get" style="display: inline; " >
      <button type="submit">ğŸ”™ ä¸€è¦§è¡¨ç¤ºã«æˆ»ã‚‹</button>
    </form>
    {% endif %}

  </body>
</html>
