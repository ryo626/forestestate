<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <title>ç‰©ä»¶ä¸€è¦§| ForestEstate</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      body {
        font-family: system-ui, sans-serif;
        margin: 24px;
      }
      h1 {
        font-size: 20px;
      }
      .card {
        border: 1px splid #ddd;
        border-radius: 8px;
        padding: 12px;
        margin: 12px 0;
      }
      .muted {
        color: #666;
        font-size: 12px;
      }
    </style>
  </head>
  <body>
    <form method="get">
      <label><input type="checkbox" name="nature" value="1" {% if request.GET.nature %}checked{% endif %}>è‡ªç„¶è±Šã‹</label><br>
      <label><input type="checkbox" name="station" value="1" {% if request.GET.station %}checked{% endif %}>é§…è¿‘ã</label><br>
      <label><input type="checkbox" name="remote" value="1" {% if request.GET.remote %}checked{% endif %}>ãƒªãƒ¢ãƒ¼ãƒˆ</label><br>
      <button type="submit">æ¤œç´¢</button>
    </form>
      
    <h1>ç‰©ä»¶ä¸€è¦§</h1>

    {% if nature or station or remote %%}
      <p>ğŸ” æ¤œç´¢æ¡ä»¶:
        {% if nature %} è‡ªç„¶è±Šã‹ {% if station or remote %} / {% endif %} {% endif%}
        {% if staion  %} é§…è¿‘ {% if remote %} / {% endif %} {% endif%}
        {%if remote %} ãƒªãƒ¢ãƒ¼ãƒˆ {% endif%}
      </p>
    {% endif %}
    
    {% if properties %}
      {% for p in properties %}
        <div class="card"></div>
        <div>
          <strong>{{ p.title }}</strong>
        </div>
        <div class="muted">ä½æ‰€:{{ p.address }}</div>
        <div>ä¾¡æ ¼:{{ p.price }}å††</div>
        <a href="{% url 'property_detail' p.id %}">è©³ç´°ã‚’è¦‹ã‚‹</a>
        {% if p.description %}
          <p>{{ p.description }}</p>
        {% endif %}
        <div class="muted">ç™»éŒ²æ—¥:{{ p.created_at|date:'Y-m-d H:i' }}</div>
      {% endfor %}
    {% else %}
      <p>ç‰©ä»¶ãŒã¾ã ã‚ã‚Šã¾ã›ã‚“ã€‚ç®¡ç†ç”»é¢ã‹ã‚‰è¿½åŠ ã—ã¦ãã ã•ã„ã€‚</p>
    {% endif %}
  </body>
</html>
